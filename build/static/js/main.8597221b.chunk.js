(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{37:function(e,t,a){e.exports=a(67)},42:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),i=a(2),s=a(4),o=a(5),u=a(7),m=a(6),p=(a(42),a(8)),d=a(18),f=a.n(d),v=new(function(){function e(){Object(s.a)(this,e),this.auth=f.a.create({baseURL:"https://fitmeal-app.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.email;return this.auth.post("/auth/signup",{username:t,password:a,email:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"updateUser",value:function(e){return this.auth.post("/profile",{_id:e}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),h=a(1),g=a.n(h),E=a(3),b=new function e(){var t=this;Object(s.a)(this,e),this.getUserInfo=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/profile",{_id:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getMyRecipes=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/myRecipes",{id:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getSavedRecipes=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/recipes/saved",{userId:a});case 3:return n=e.sent,e.abrupt("return",n.data[0].saved);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.updateUserProfile=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.patch("/profile/update",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.like=function(){var e=Object(E.a)(g.a.mark((function e(a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/like",{userId:a,recipeId:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),this.save=function(){var e=Object(E.a)(g.a.mark((function e(a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/save",{userId:a,recipeId:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),this.getRecipes=Object(E.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/recipes");case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),this.getRecipeDetails=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/recipes/"+a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.updateRecipe=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/recipes/update",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteRecipe=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/recipes/delete",{recipeId:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.handleUpload=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/upload",a);case 3:return n=e.sent,e.abrupt("return",n.data.secure_url);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.saveNewRecipe=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/recipes/create",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getRecipesByCategory=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/category/"+a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getRecipesByDifficulty=function(){var e=Object(E.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.get("/difficulty/"+a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.service=f.a.create({baseURL:"https://fitmeal-app.herokuapp.com/api"})},k=r.a.createContext(),y=k.Consumer,C=k.Provider,x=function(e){return function(t){Object(u.a)(n,t);var a=Object(m.a)(n);function n(){return Object(s.a)(this,n),a.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(y,null,(function(a){var n=a.login,c=a.signup,l=a.user,i=a.logout,s=a.isLoggedin,o=a.actualUser,u=a.updateUser;return r.a.createElement(e,Object.assign({login:n,signup:c,user:o||l,logout:i,isLoggedin:s,updateUser:u},t.props))}))}}]),n}(r.a.Component)},w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0},e.signup=function(t){var a=t.username,n=t.password,r=t.email;v.signup({username:a,password:n,email:r}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var a=t.response;return e.setState({message:a.data.statusMessage})}))},e.login=function(t){var a=t.username,n=t.password;v.login({username:a,password:n}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(e){return console.log(e)}))},e.logout=function(){v.logout().then((function(){return e.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},e.updateUser=function(t){b.getUserInfo(t).then((function(t){return e.setState({actualUser:t})})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,c=e.actualUser,l=this.login,i=this.logout,s=this.signup,o=this.updateUser;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(C,{value:{isLoggedin:a,user:n,login:l,logout:i,signup:s,actualUser:c,updateUser:o}},this.props.children)}}]),a}(r.a.Component),N=a(19);var O=x((function(e){var t=e.component,a=e.isLoggedin,n=Object(N.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(p.a,{to:"/recipes"}):r.a.createElement(t,e)}}))}));var j=x((function(e){var t=e.component,a=e.isLoggedin,n=Object(N.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),S=a(13),U=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logout,n=e.isLoggedin;return r.a.createElement("nav",{className:"navbar"},r.a.createElement(i.b,{to:"/",id:"home-btn"},r.a.createElement("span",null,r.a.createElement("img",{src:"./favicon.ico",alt:"Logo"})),r.a.createElement("h4",null,"fitmeal.")),n?r.a.createElement("div",{className:"profile-navbar"},function(e){return e.profilePictureUrl?r.a.createElement("span",{className:"profile-picture"},r.a.createElement("img",{src:e.profilePictureUrl,alt:"profile"})):r.a.createElement("span",{className:"profile-picture avatar-color"})}(t),r.a.createElement("p",{className:"navbar-user"},"hey, ",t.username),r.a.createElement("ion-icon",{className:"logout-icon",name:"log-out-outline",onClick:a})):r.a.createElement("div",{className:"auth-section"},r.a.createElement(i.b,{to:"/login"},r.a.createElement("button",{className:"navbar-button login-btn"},"Login"))))}}]),a}(n.Component)),R=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.email,c=a.password;e.props.signup({username:n,email:r,password:c})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(S.a)({},n,r))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password;return r.a.createElement("div",{className:"container-page"},r.a.createElement(U,null),r.a.createElement("div",{className:"signup"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{className:"form-auth",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"username",type:"text",name:"username",value:t,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"username"},"Username:")),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"email",type:"text",name:"email",value:a,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"email"},"email:")),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"password",type:"password",name:"password",value:n,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"password"},"Password:")),r.a.createElement("input",{className:"submit-input",type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account? ",r.a.createElement(i.b,{to:"/login"}," Go to Login"))))}}]),a}(n.Component)),F=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;e.props.login({username:n,password:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(S.a)({},n,r))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"container-page"},r.a.createElement(U,null),r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{className:"form-auth",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"username",type:"text",name:"username",value:t,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"username"},"Username:")),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"password",type:"password",name:"password",value:a,onChange:this.handleChange,required:!0}),r.a.createElement("label",{htmlFor:"password"},"Password:")),r.a.createElement("input",{id:"login-submit",className:"submit-input",type:"submit",value:"Login"})),r.a.createElement("p",null,"Don't have account? ",r.a.createElement(i.b,{to:"/signup"}," Go to Sign Up"))))}}]),a}(n.Component));var D=function(){return r.a.createElement("div",{className:"header"},r.a.createElement(U,null),r.a.createElement("div",{className:"header-text-container"},r.a.createElement("h3",null,"welcome to"),r.a.createElement("h1",null,"fitmeal app"),r.a.createElement("h2",null,"There are many fit recipes to learn and share with fitmeal."),r.a.createElement(i.b,{to:"/signup",className:"join-signup"},r.a.createElement("button",{className:"join-signup-btn"},"Start here!"))))},L=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("nav",{className:"navbar-mobile"},r.a.createElement(i.b,{to:"/",className:"navbar-icons-mobile"},r.a.createElement("ion-icon",{name:"restaurant-outline"}),r.a.createElement("p",{className:"icons-text"},"Meals")),r.a.createElement("div",{className:"navbar-icons-mobile"},r.a.createElement("ion-icon",{name:"reader-outline"}),r.a.createElement("p",{className:"icons-text"},"Plans")),r.a.createElement(i.b,{to:"/AddNewRecipe",className:"navbar-icons-mobile"},r.a.createElement("ion-icon",{name:"add-circle-outline"}),r.a.createElement("p",{className:"icons-text"},"Add")),r.a.createElement(i.b,{to:"/profile",className:"user-mobile"},r.a.createElement("div",{className:"navbar-icons-mobile"},function(e){return e.profilePictureUrl?r.a.createElement("span",{className:"profile-picture"},r.a.createElement("img",{src:e.profilePictureUrl,alt:"profile"})):r.a.createElement("span",{className:"profile-picture avatar-green1"})}(e),r.a.createElement("p",{className:"icons-text"},"Me"))))}}]),a}(n.Component)),M=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.save=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.props.user){t.next=7;break}return n=e.props.user._id,t.next=4,b.save(n,a);case 4:r=t.sent,c=!!r.currentUser.saved.includes(a),e.setState({user:r,saved:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.like=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r,c,l,i,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.props.user){t.next=9;break}return n=e.props.user._id,r=e.state.savedRecipe,t.next=5,b.like(n,a);case 5:c=t.sent,l=c.savedUser,i=c.savedRecipe,s=!r.liked.includes(n),e.setState({user:l,like:s,savedRecipe:i});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(E.a)(g.a.mark((function t(){var a,n,r,c,l,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.props.user){t.next=12;break}return a=e.props.user._id,n=e.props._id,t.next=5,b.getUserInfo(a);case 5:return r=t.sent,t.next=8,b.getRecipeDetails(n);case 8:c=t.sent,l=!!r.liked.includes(n),i=!!r.saved.includes(n),e.setState({user:r,like:l,savedRecipe:c,saved:i});case 12:case"end":return t.stop()}}),t)}))),e.displayLikes=function(t){if(void 0!==e.state.savedRecipe)return e.state.savedRecipe?e.state.savedRecipe.popularity:t},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.imageUrl,n=t.title,c=t.prepTime,l=t.popularity,s=t._id;return r.a.createElement("div",{className:"card-recipe"},r.a.createElement(i.b,{to:"/recipes/"+s},r.a.createElement("img",{src:a,alt:"img"})),r.a.createElement("div",{className:"info-card-recipe"},r.a.createElement("h3",null,n),r.a.createElement("div",{className:"icons-container"},r.a.createElement("div",null,r.a.createElement("ion-icon",{name:"time-outline"}),r.a.createElement("span",null,c.replace(" mins","''").replace(" -","'' -"))),r.a.createElement("div",null,r.a.createElement("ion-icon",{name:this.state.like?"heart":"heart-outline",onClick:function(){return e.like(s)},style:{color:this.state.like?"#ec5e5e":""}}),r.a.createElement("span",null,this.displayLikes(l))),r.a.createElement("ion-icon",{name:this.state.saved?"bookmark":"bookmark-outline",onClick:function(){return e.save(s)},style:{color:this.state.saved?"var(--green3)":""}}))))}}]),a}(n.Component)),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.handleSearchBar=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(S.a)({},n,r))},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"search-bar"},r.a.createElement("form",{action:"/search/"+this.state.search,method:"get"},r.a.createElement("div",{className:"searchbar"},r.a.createElement("input",{type:"text",className:"input-search-bar",name:"search",placeholder:"try something new",value:this.state.search,onChange:this.handleSearchBar}),r.a.createElement("ion-icon",{name:"search-outline"}))))}}]),a}(n.Component),P=a(36),B=a.n(P),A=function(e){var t=e.imageUrl,a=e.category;return r.a.createElement(i.b,{to:"/search/"+a},r.a.createElement("div",{className:"category-card"},r.a.createElement("h3",null,a),r.a.createElement("div",null),r.a.createElement("img",{src:t,alt:"category"})))},_=function(){return r.a.createElement(B.a,{horizonal:"true"},(function(e){var t=e.onMouseDown,a=e.ref;return r.a.createElement("div",{className:"scrollable",ref:a,onMouseDown:t},r.a.createElement(A,{category:"breakfast",imageUrl:"./img/avocado-toast-with-egg.jpeg"}),r.a.createElement(A,{category:"brunch",imageUrl:"./img/banana-oatmeal-pancakes.jpeg"}),r.a.createElement(A,{category:"lunch",imageUrl:"./img/creamy-roasted-pumpkin-soup.jpeg"}),r.a.createElement(A,{category:"snack",imageUrl:"./img/goat-cheese-salad-nuts.jpeg"}),r.a.createElement(A,{category:"dinner",imageUrl:"./img/guacamole.jpeg"}))}))},T=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={recipes:[]},e.getRecipes=Object(E.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getRecipes();case 2:a=t.sent,e.setState({recipes:a});case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getRecipes()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(L,null),r.a.createElement("div",{className:"box"},r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{style:{width:"25px"},src:"/favicon2.png",alt:""}))),r.a.createElement("h4",null,"fitmeal."),r.a.createElement("div",null,r.a.createElement("div",{className:"navbar-icons-mobile alerts"},r.a.createElement("ion-icon",{name:"notifications-outline"}))))),r.a.createElement("h2",null,"Search"),r.a.createElement(I,null),r.a.createElement("section",{className:"section-cards"},r.a.createElement("h2",null,"Discover"),function(){var t=e.state.recipes;if(0!==t.length){var a=t[Math.floor(Math.random()*t.length)];return r.a.createElement("section",{className:"discover-section"},r.a.createElement("div",{className:"text-discover"},r.a.createElement("p",{className:"discover-title"},a.title)),r.a.createElement(i.b,{to:"/recipes/"+a._id},r.a.createElement("article",{style:{margin:"20px"}},r.a.createElement("div",{className:"discover-img",style:{backgroundImage:"linear-gradient(0deg, rgba(95, 163, 151, 1) 10%, rgba(0, 0, 0, 0) 60%), url('"+a.imageUrl+"')",backgroundSize:"cover",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat"}}))))}}(),r.a.createElement("article",null,r.a.createElement("h2",null,"Categories"),r.a.createElement(_,null)),r.a.createElement("article",null,r.a.createElement("h2",null,"Popular recipes"),r.a.createElement("div",{className:"cards-recipes"},this.state.recipes.map((function(e){return r.a.createElement(M,Object.assign({key:e._id},e))}))))))}}]),a}(n.Component)),q=a(16),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(e){return r.a.createElement("div",{className:"ingredients-options",key:this.props.index},r.a.createElement("input",{className:"amount select-underline",type:"text",name:"amount",placeholder:"Amount",value:this.props.amount,onChange:this.props.handleChangeAmount,id:"ingredient-amount-"+this.props.index}),r.a.createElement("select",{className:"select-underline unit",name:"unit",type:"text",onChange:this.props.handleChangeUnits,id:"ingredient-units-"+this.props.index,value:this.props.units},r.a.createElement("option",{hidden:!0},"Unit"),r.a.createElement("option",{value:""}," - "),r.a.createElement("option",{value:"tbsp"},"tbsp"),r.a.createElement("option",{value:"tbs"},"tbs"),r.a.createElement("option",{value:"cup"},"cup"),r.a.createElement("option",{value:"g"},"g"),r.a.createElement("option",{value:"kg"},"kg"),r.a.createElement("option",{value:"ml"},"ml"),r.a.createElement("option",{value:"l"},"l")),r.a.createElement("input",{className:"ingredients-text select-underline",type:"text",placeholder:"Ingredient",onChange:this.props.handleChangeName,id:"ingredient-name-"+this.props.index,value:this.props.name}),r.a.createElement("ion-icon",{onClick:this.props.handleDelete,name:"close-circle-outline"}))}}]),a}(n.Component),H=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={imageUrl:"",author:e.props.user._id,title:"",prepTime:0,difficulty:"easy",portions:"",ingredients:[{ingredientId:0,name:"",amount:"",units:""}],steps:[""],numberOfIngredients:[0],numberOfSteps:[0],category:"breakfast",errorMsg:null,successMsg:null},e.getRecipeNumberOf=function(e){for(var t=[0],a=0;a<e.length-1;a++)t.push(a+1);return t},e.componentDidMount=Object(E.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===(a=e.props.match.params.id)){t.next=8;break}return t.next=4,b.getRecipeDetails(a);case 4:(n=t.sent).numberOfSteps=e.getRecipeNumberOf(n.steps),n.numberOfIngredients=e.getRecipeNumberOf(n.ingredients),e.setState(n);case 8:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){t.preventDefault();var a=t.target,n=a.name,r=a.value;e.setState(Object(S.a)({},n,r))},e.handleChangeField=function(t,a,n){t.preventDefault();var r=e.state.ingredients,c=0;switch(r.forEach((function(e,t){e.ingredientId===a&&(c=t)})),n){case"Name":r[c].name=t.target.value;break;case"Amount":r[c].amount=t.target.value;break;case"Units":r[c].units=t.target.value}e.setState({ingredients:r})},e.handleFileUpload=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("imageUrl",a.target.files[0]),t.prev=3,t.next=6,b.handleUpload(n);case 6:r=t.sent,e.setState({imageUrl:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("Error while uploading the file: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleLevelClick=function(t){t.preventDefault(),e.setState({difficulty:t.target.value})},e.handleCategoryClick=function(t){t.preventDefault(),e.setState({category:t.target.value})},e.addIngredient=function(t){t.preventDefault();var a=e.state.numberOfIngredients,n=Math.max.apply(Math,Object(q.a)(a))+1;a.push(n);var r={ingredientId:n,name:"",amount:"",units:""},c=Object(q.a)(e.state.ingredients);return c.push(r),e.setState({numberOfIngredients:a,ingredients:c})},e.handleDeleteIngredient=function(t){var a=e.state.ingredients.filter((function(e,a){return a!==t})),n=e.state.numberOfIngredients.filter((function(e,a){return a!==t}));0===n.length?e.setState({numberOfIngredients:[0],ingredients:[{ingredientId:0,name:"",amount:"",units:""}]}):e.setState({numberOfIngredients:n,ingredients:a})},e.addStep=function(t){t.preventDefault();var a=e.state.numberOfSteps,n=Math.max.apply(Math,Object(q.a)(a))+1;a.push(n);var r=Object(q.a)(e.state.steps);return r.push(""),e.setState({numberOfSteps:a,steps:r})},e.handleStepChange=function(t,a){t.preventDefault();var n=e.state.steps;n[a]=t.target.value,e.setState({steps:n})},e.handleFormSubmit=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,!(n=e.props.location.pathname).includes("AddNewRecipe")){t.next=9;break}return t.next=6,b.saveNewRecipe(e.state);case 6:r=t.sent,t.next=13;break;case 9:if(!n.includes("editRecipe")){t.next=13;break}return t.next=12,b.updateRecipe(e.state);case 12:r=t.sent;case 13:e.setState({imageUrl:"",author:e.props.user.username,title:"",prepTime:0,difficulty:"easy",portions:"",ingredients:[{ingredientId:0,name:"",amount:"",units:""}],steps:[""],category:"breakfast",numberOfIngredients:[0],numberOfSteps:[0],errorMsg:null,successMsg:null}),setTimeout((function(){return e.props.history.push("/recipes/"+r._id)}),1500),e.setState({successMsg:"Recipe successfully created!"}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),e.setState({errorMsg:"Make sure to fullfill all the required fields."}),console.log("Error while adding the recipe: ",t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.prepTime,c=t.portions,l=t.errorMsg,s=t.successMsg,o=t.imageUrl,u=(t.steps,t.category),m=t.difficulty;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"box"},r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{style:{width:"25px"},src:"/favicon2.png",alt:""}))),r.a.createElement("h4",{className:"section-box"},"add a recipe."),r.a.createElement("button",null,r.a.createElement(i.b,{to:"/"},"Close")))),r.a.createElement("div",{className:"box-green"},r.a.createElement("p",null,"We\u2019re excited to see your recipe! Let\u2019s start with the basics")),r.a.createElement("form",{method:"POST",action:"/createRecipe",className:"add-new-recipe-form",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"create-section"},r.a.createElement("label",{className:"create-recipe-titles"},"Name your recipe",r.a.createElement("span",null,"*")),r.a.createElement("input",{className:"input-title-recipe",type:"text",name:"title",value:a,placeholder:"Write a nice title",onChange:this.handleChange})),r.a.createElement("div",{className:"img-create create-section"},r.a.createElement("label",{className:"create-recipe-titles"},"Add a recipe photo",r.a.createElement("span",null,"*")),function(t){return""===t?r.a.createElement("label",{htmlFor:"file",className:"upload-img-text"},r.a.createElement("div",{className:"img-text-box",style:{background:"#dadada"}},r.a.createElement("ion-icon",{name:"add-circle-outline"}),r.a.createElement("p",null,"Upload a final photo of your dish"),r.a.createElement("input",{id:"file",className:"image-selector",type:"file",name:"file",onChange:function(t){return e.handleFileUpload(t)}}))):r.a.createElement("label",{htmlFor:"file",className:"upload-img-text"},r.a.createElement("div",{className:"img-text-box",style:{background:"#ddefec"}},r.a.createElement("ion-icon",{name:"add-circle-outline"}),r.a.createElement("p",null,"Picture Uploaded"),r.a.createElement("input",{id:"file",className:"image-selector",type:"file",name:"file",onChange:function(t){return e.handleFileUpload(t)}})))}(o)),r.a.createElement("div",{className:"difficulty-section create-section"},r.a.createElement("label",{className:"create-recipe-titles"},"Category",r.a.createElement("span",null,"*")),r.a.createElement("div",{className:"cat-btn-section"},function(t){switch(t){case"breakfast":return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"breakfast",style:{border:"2px solid var(--green3)",backgroundColor:"white"}},"Breakfast"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"brunch"},"Brunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"lunch"},"Lunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"snack"},"Snack"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"dinner"},"Dinner"));case"brunch":return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"breakfast"},"Breakfast"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"brunch",style:{border:"2px solid var(--green3)",backgroundColor:"white"}},"Brunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"lunch"},"Lunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"snack"},"Snack"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"dinner"},"Dinner"));case"lunch":return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"breakfast"},"Breakfast"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"brunch"},"Brunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"lunch",style:{border:"2px solid var(--green3)",backgroundColor:"white"}},"Lunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"snack"},"Snack"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"dinner"},"Dinner"));case"snack":return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"breakfast"},"Breakfast"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"brunch"},"Brunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"lunch"},"Lunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"snack",style:{border:"2px solid var(--green3)",backgroundColor:"white"}},"Snack"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"dinner"},"Dinner"));case"dinner":return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"breakfast"},"Breakfast"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"brunch"},"Brunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"lunch"},"Lunch"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"snack"},"Snack"),r.a.createElement("button",{onClick:function(t){return e.handleCategoryClick(t)},value:"dinner",style:{border:"2px solid var(--green3)",backgroundColor:"white"}},"Dinner"));default:return r.a.createElement(r.a.Fragment,null)}}(u))),r.a.createElement("div",{className:"box-green"},r.a.createElement("p",null,"Something\u2019s cooking! Let\u2019s add a few more details\u2026")),r.a.createElement("div",{className:"portions-section create-section"},r.a.createElement("label",{className:"create-recipe-titles",htmlFor:""},"Portions",r.a.createElement("span",null,"*")),r.a.createElement("select",{className:"portions select-underline",name:"portions",value:c,type:"text",onChange:this.handleChange},r.a.createElement("option",{hidden:!0},"n\xba servings"),r.a.createElement("option",{value:"1 serving"},"1 serving"),r.a.createElement("option",{value:"2 servings"},"2 servings"),r.a.createElement("option",{value:"3 servings"},"3 servings"),r.a.createElement("option",{value:"4 servings"},"4 servings"),r.a.createElement("option",{value:"5 servings"},"5 servings"),r.a.createElement("option",{value:"6 servings"},"6 servings"),r.a.createElement("option",{value:"7 servings"},"7 servings"),r.a.createElement("option",{value:"8 servings"},"8 servings"),r.a.createElement("option",{value:"9 servings"},"9 servings"),r.a.createElement("option",{value:"10 servings"},"10 servings"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"difficulty-section create-section"},r.a.createElement("label",{className:"create-recipe-titles"},"Difficulty",r.a.createElement("span",null,"*")),r.a.createElement("div",{className:"diff-btn-section"},function(t){switch(t){case"easy":return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"easy",style:{border:"2px solid var(--green3)",backgroundColor:"white"}},"Easy"),r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"medium"},"Medium"),r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"hard"},"Hard"));case"medium":return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"easy"},"Easy"),r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"medium",style:{border:"2px solid var(--green3)",backgroundColor:"white"}},"Medium"),r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"hard"},"Hard"));case"hard":return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"easy"},"Easy"),r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"medium"},"Medium"),r.a.createElement("button",{onClick:function(t){return e.handleLevelClick(t)},value:"hard",style:{border:"2px solid var(--green3)",backgroundColor:"white"}},"Hard"));default:return r.a.createElement(r.a.Fragment,null)}}(m))),r.a.createElement("hr",null),r.a.createElement("div",{className:"selector-container create-section"},r.a.createElement("div",{className:"text-box-select"},r.a.createElement("label",{className:"create-recipe-titles",htmlFor:""},"Prep time",r.a.createElement("span",null,"*")),r.a.createElement("p",null,"How much time do you spend making the dish?")),r.a.createElement("select",{className:"prep-time select-underline",name:"prepTime",type:"text",value:n,onChange:this.handleChange},r.a.createElement("option",{hidden:!0},"0 min"),r.a.createElement("option",{value:"0 - 15 mins"},"0 - 15 mins"),r.a.createElement("option",{value:"15 - 30 mins"},"15 - 30 mins"),r.a.createElement("option",{value:"30 - 45 mins"},"30 - 45 mins"),r.a.createElement("option",{value:"+ 45 mins"},"+ 45 mins"))),r.a.createElement("div",{className:"box-green"},r.a.createElement("p",null,"A recipe would be nothing without the ingredients! What goes in your dish?")),r.a.createElement("div",{className:"ingredients-create create-section"},r.a.createElement("label",{className:"create-recipe-titles"},"Ingredients",r.a.createElement("span",null,"*")),this.state.numberOfIngredients.map((function(t,a){var n=0;return e.state.ingredients.forEach((function(e,a){e.ingredientId===t&&(n=a)})),r.a.createElement(W,{index:t,key:t,handleDelete:function(){return e.handleDeleteIngredient(n)},handleChangeName:function(a){return e.handleChangeField(a,t,"Name")},handleChangeUnits:function(a){return e.handleChangeField(a,t,"Units")},handleChangeAmount:function(a){return e.handleChangeField(a,t,"Amount")},amount:e.state.ingredients[n].amount,units:e.state.ingredients[n].units,name:e.state.ingredients[n].name})})),r.a.createElement("button",{onClick:function(t){return e.addIngredient(t)},className:"add-btn"},r.a.createElement("span",null,"+ "),"Add an ingredient")),r.a.createElement("div",{className:"box-green"},r.a.createElement("p",null,"Sound delicious! Now, it's time to add the steps...")),r.a.createElement("div",{className:"steps-create create-section"},r.a.createElement("label",{className:"create-recipe-titles"},"Steps",r.a.createElement("span",null,"*")),function(){var t=e.state.steps;if(t!==[""])return e.state.numberOfSteps.map((function(a,n){var c=t[a];return r.a.createElement("div",{className:"textarea-create",key:a},r.a.createElement("textarea",{className:"textarea-placeholder-create",value:c,id:"preparation-step-"+a,placeholder:"Write here the steps...",onChange:function(t){return e.handleStepChange(t,a)}}))}))}(),r.a.createElement("button",{className:"add-btn",onClick:function(t){return e.addStep(t)}},r.a.createElement("span",null,"+ "),"Add a step")),function(e){return null!==e?r.a.createElement("div",{className:"msg msg-error"},e):""}(l),function(e){return null!==e?r.a.createElement("div",{className:"msg msg-success"},e):""}(s),r.a.createElement("input",{className:"submitDiv",type:"submit",value:"Save"})))}}]),a}(n.Component)),z=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.save=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.props.user){t.next=7;break}return n=e.props.user._id,t.next=4,b.save(n,a);case 4:r=t.sent,c=!!r.currentUser.saved.includes(a),e.setState({user:r,saved:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.like=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r,c,l,i,s,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.props.user){t.next=9;break}return n=e.props.user._id,r=e.state.savedRecipe,t.next=5,b.like(n,a);case 5:c=t.sent,l=c.savedUser,i=c.savedRecipe,r.liked.includes(n)?(o=e.state.popularity-1,s=!1):(s=!0,o=e.state.popularity+1),e.setState({user:l,like:s,savedRecipe:i,popularity:o});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(E.a)(g.a.mark((function t(){var a,n,r,c,l,i,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.id,t.next=3,b.getRecipeDetails(a);case 3:return n=t.sent,e.setState(n),r=e.props.user._id,t.next=8,b.getUserInfo(r);case 8:return c=t.sent,t.next=11,b.getRecipeDetails(a);case 11:l=t.sent,i=!!c.liked.includes(a),s=!!c.saved.includes(a),e.setState({user:c,like:i,savedRecipe:l,saved:s});case 15:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.author,c=t.difficulty,l=t.ingredients,s=t.popularity,o=t.portions,u=t.prepTime,m=t.steps,p=t.imageUrl,d=t.like,f=t.saved,v=t._id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"image-recipe"},r.a.createElement("span",null,r.a.createElement(i.b,{to:"/"},r.a.createElement("ion-icon",{name:"arrow-back-outline"}))),r.a.createElement("img",{src:p,alt:"Recipe"})),r.a.createElement("div",{className:"recipe-wrapped"},r.a.createElement("div",{className:"container-recipe-details"},r.a.createElement("h1",null,a),r.a.createElement("div",{className:"media"},r.a.createElement("div",null,r.a.createElement("ion-icon",{name:d?"heart":"heart-outline",style:{color:d?"#ec5e5e":""},onClick:function(){return e.like(v)}}),r.a.createElement("span",null,s," likes")),r.a.createElement("div",null,r.a.createElement("ion-icon",{name:f?"bookmark":"bookmark-outline",style:{color:f?"var(--green3)":""},onClick:function(){return e.save(v)}}),r.a.createElement("span",null,"Save")),r.a.createElement("div",null,r.a.createElement("ion-icon",{name:"share-outline"}),r.a.createElement("span",null,"Share"))),r.a.createElement("div",{className:"author"},function(e){return void 0!==e&&""!==e.profilePictureUrl?r.a.createElement(i.b,{to:"/profile/"+e._id},r.a.createElement("img",{className:"profile-picture3 profile-stroke1",src:e.profilePictureUrl,alt:"profile"})):r.a.createElement("span",{className:"profile-picture3 avatar-green1"})}(n),r.a.createElement(i.b,{to:"/profile/"+function(){if(void 0!==n)return n._id}()},r.a.createElement("h4",null,"@",function(e){return void 0!==e?e.username:""}(n)))))),r.a.createElement("section",{className:"info-details-recipe"},r.a.createElement("article",null,r.a.createElement("span",null,c),r.a.createElement("p",null,"Difficulty")),r.a.createElement("article",null,r.a.createElement("span",null,u?u.replace(" mins","''").replace(" -","'' -"):""),r.a.createElement("p",null,"Prep Time")),r.a.createElement("article",null,r.a.createElement("span",null,o?o.replace(" serving","").replace("s",""):""),r.a.createElement("p",null,"Serving"))),r.a.createElement("section",{className:"info-recipe-ingred-steps"},r.a.createElement("article",null,r.a.createElement("h3",null,"Ingredients"),r.a.createElement("ul",null,function(e){return void 0!==e?e.map((function(e,t){return""===e.amount&&""===e.units&&""===e.name?"":r.a.createElement("li",{className:"list-ingredients",key:t},r.a.createElement("input",{id:"ingredient-id-"+t,type:"checkbox","data-content":e.amount+" "+e.units+" "+e.name}),r.a.createElement("label",{htmlFor:"ingredient-id-"+t},e.amount," ",e.units," ",e.name))})):""}(l))),r.a.createElement("article",null,r.a.createElement("h3",null,"Steps"),r.a.createElement("ul",null,function(e){return void 0!==e?e.map((function(e,t){return""!==e?r.a.createElement("li",{key:t,style:{display:"flex",flexDirection:"row",marginBottom:"20px"}},r.a.createElement("span",{style:{width:"15px",display:"flex",marginLeft:"10px",marginRight:"10px",justifyContent:"flex-end"}},t+1+".")," ",e," "):""})):""}(m)))))}}]),a}(n.Component)),G=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).deleteRecipe=function(){var e=Object(E.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=4;break}return e.next=3,b.deleteRecipe(t);case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card-profile"},r.a.createElement(i.b,{to:"/recipes/"+this.props.id}," ",r.a.createElement("img",{src:this.props.imageUrl,alt:"img"})),r.a.createElement("div",{className:"info-card-profile"},r.a.createElement("h3",null,this.props.title),r.a.createElement("div",{className:"icons-actions"},r.a.createElement("ion-icon",{name:"close-circle-outline",onClick:function(){return e.deleteRecipe(e.props.id)}}),r.a.createElement(i.b,{to:"/editRecipe/"+this.props.id},r.a.createElement("ion-icon",{name:"create-outline"})))))}}]),a}(n.Component)),J=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.save=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.props.user){t.next=9;break}return n=e.props.user._id,console.log(n),t.next=5,b.save(n,a);case 5:r=t.sent,c=!!r.currentUser.saved.includes(a),e.setState({user:r,saved:c}),window.location.reload();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card-profile"},r.a.createElement(i.b,{to:"/recipes/"+this.props.id}," ",r.a.createElement("img",{src:this.props.imageUrl,alt:"img"})),r.a.createElement("div",{className:"info-card-profile"},r.a.createElement("h3",null,this.props.title),r.a.createElement("div",{className:"icons-actions2"},r.a.createElement("ion-icon",{name:"bookmark",onClick:function(){return e.save(e.props.id)}}))))}}]),a}(n.Component)),K=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.getMyRecipes=Object(E.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getMyRecipes(e.props.user._id);case 2:a=t.sent,e.setState({recipes:a});case 4:case"end":return t.stop()}}),t)}))),e.getMySavedrecipes=Object(E.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getSavedRecipes(e.props.user._id);case 2:a=t.sent,e.setState({savedRecipes:a});case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getMyRecipes(),e.getMySavedrecipes()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user,a=t.profilePictureUrl,n=t.backgroundPictureUrl,c=t.username,l=this.props.logout;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),function(e){return e?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"logout"},r.a.createElement("ion-icon",{name:"log-out-outline",onClick:l})),r.a.createElement("span",{className:"bg"},r.a.createElement("img",{src:e,alt:"backgroundImg"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"logout"},r.a.createElement("ion-icon",{name:"log-out-outline",onClick:l})),r.a.createElement("div",{className:"bg bg-color"}))}(n),r.a.createElement("div",{className:"container-profile"},r.a.createElement("div",{className:"user-info"},function(e){return e?r.a.createElement("img",{className:"profile-picture2 profile-stroke",src:e,alt:"profileImg"}):r.a.createElement("div",{className:"profile-picture2 profile-stroke avatar-green"})}(a),r.a.createElement("div",{className:"user-info-container"},r.a.createElement("h4",null,"@",c)),r.a.createElement(i.b,{className:"a-btn",to:"/profile/edit"},"edit")),r.a.createElement("div",{className:"nav-profile"},r.a.createElement("hr",null),r.a.createElement("div",{className:"nav-profile-actions"},function(){var t=e.props.location.pathname;return"/profile"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/profile"},r.a.createElement("span",null,"Recipes"),r.a.createElement("hr",{className:"active"})),r.a.createElement(i.b,{to:"#"},r.a.createElement("span",null,"Plans"),r.a.createElement("hr",null)),r.a.createElement(i.b,{to:"/profile/savedRecipes"},r.a.createElement("span",null,"Save"),r.a.createElement("hr",null))):"/profile/savedRecipes"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/profile"},r.a.createElement("span",null,"Recipes"),r.a.createElement("hr",null)),r.a.createElement(i.b,{to:"#"},r.a.createElement("span",null,"Plans"),r.a.createElement("hr",null)),r.a.createElement(i.b,{to:"/profile/savedRecipes"},r.a.createElement("span",null,"Save"),r.a.createElement("hr",{className:"active"}))):void 0}()))),r.a.createElement("div",{className:"recipes-container"},function(){var t=e.props.location.pathname;return"/profile"===t?function(){var t=e.state.recipes;if(void 0!==t)return r.a.createElement(r.a.Fragment,null,t.map((function(t,a){return r.a.createElement(G,{key:a,imageUrl:t.imageUrl,title:t.title,id:t._id,showButtons:e.state.showButtons})})))}():"/profile/savedRecipes"===t?function(){var t=e.state.savedRecipes;if(void 0!==t)return r.a.createElement(r.a.Fragment,null,t.map((function(t,a){return r.a.createElement(J,{key:a,imageUrl:t.imageUrl,title:t.title,id:t._id,showButtons:e.state.showButtons})})))}():void 0}()))}}]),a}(n.Component)),Q=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={recipes:[]},e.getRecipes=Object(E.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getRecipes();case 2:a=t.sent,e.setState({recipes:a});case 4:case"end":return t.stop()}}),t)}))),e.getRecipesByCategory=function(){var t=Object(E.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getRecipesByCategory(a);case 2:n=t.sent,e.setState({recipes:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getRecipesByDifficulty=function(){var t=Object(E.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getRecipesByDifficulty(a);case 2:n=t.sent,e.setState({recipes:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.filterRecipe=function(t){if(void 0!==t){var a=t.toLowerCase(),n=Object(q.a)(e.state.recipes).filter((function(e){return e.title.toLowerCase().includes(a)}));e.setState({recipes:n})}},e.componentDidUpdate=function(){var t=Object(E.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.searchField===a.searchField){t.next=18;break}if("easy"!==(n=e.props.searchField.toLowerCase())&&"medium"!==n&&"hard"!==n){t.next=6;break}e.getRecipesByDifficulty(n),t.next=18;break;case 6:if("breakfast"!==n&&"brunch"!==n&&"lunch"!==n&&"snack"!==n&&"dinner"!==n){t.next=10;break}e.getRecipesByCategory(n),t.next=18;break;case 10:if(""!==n){t.next=14;break}e.getRecipes(),t.next=18;break;case 14:return t.next=16,e.getRecipes();case 16:return t.next=18,e.filterRecipe(n);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"cards-recipes"},this.state.recipes.map((function(e){return r.a.createElement(M,Object.assign({key:e._id},e))})))}}]),a}(n.Component)),V=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.componentDidMount=function(){var t=e.props.match.params.query,a=e.props.match.params.category;void 0!==t?e.setState({searchField:t}):void 0!==a&&e.setState({searchField:a})},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{style:{width:"25px"},src:"/favicon2.png",alt:""}))),r.a.createElement("h4",null,"search."),r.a.createElement("button",null,r.a.createElement(i.b,{to:"/"},"Close")))),r.a.createElement("h2",{className:"search-title"},"Search"),r.a.createElement(I,null),r.a.createElement("p",{style:{marginLeft:"20px",color:"var(--grey3)",fontSize:"14px",marginTop:"10px",marginBottom:"20px"}},"Results for: ",r.a.createElement("i",null,'"',this.state.searchField,'"')),r.a.createElement(Q,{searchField:this.state.searchField}))}}]),a}(n.Component)),X=a(23),Y=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={errorMsg:null,successMsg:null},e.getMyRecipes=Object(E.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.getMyRecipes(e.props.user._id);case 2:a=t.sent,e.setState({recipes:a});case 4:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getMyRecipes(),e.setState({state:e.props.user})},e.handleBackgroundFileUpload=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("imageUrl",a.target.files[0]),t.prev=3,t.next=6,b.handleUpload(n);case 6:r=t.sent,e.props.user.backgroundPictureUrl=r,e.setState({user:e.props.user}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log("Error while uploading the file: ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleProfileFileUpload=function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=new FormData).append("imageUrl",a.target.files[0]),t.prev=3,t.next=6,b.handleUpload(n);case 6:r=t.sent,e.props.user.profilePictureUrl=r,e.setState({user:e.props.user}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log("Error while uploading the file: ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){t.preventDefault();var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{user:Object(X.a)(Object(X.a)({},e.user),{},Object(S.a)({},n,r))}}))},e.handleSaveProfileSubmit=function(){var t=Object(E.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n=e.state.user,t.next=5,b.updateUserProfile(n);case 5:e.props.updateUser(n._id),setTimeout((function(){return e.props.history.push("/profile")}),1500),e.setState({successMsg:"Changes successfully saved!"}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),e.setState({errorMsg:"Oops, something went wrong."}),console.log("Error while adding the recipe: ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=function(){e.setState({user:e.props.user})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.errorMsg,n=t.successMsg,c=this.props.user,l=c.profilePictureUrl,s=c.backgroundPictureUrl,o=c.username;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{method:"POST",action:"",className:"add-new-recipe-form",onSubmit:this.handleSaveProfileSubmit},function(t){return t?r.a.createElement("div",{className:"bg-edit"},r.a.createElement("span",null,r.a.createElement(i.b,{to:"/profile"},r.a.createElement("ion-icon",{name:"arrow-back-outline"}))),r.a.createElement("label",{htmlFor:"bg-pic-url"},r.a.createElement("div",{className:"image-upload-bg"},r.a.createElement("ion-icon",{name:"image-outline"})),r.a.createElement("div",{className:"bg"},r.a.createElement("img",{src:t,alt:"backgroundImg"}),r.a.createElement("input",{style:{display:"none"},id:"bg-pic-url",className:"image-selector",type:"file",name:"backgroundPictureUrl",onChange:function(t){return e.handleBackgroundFileUpload(t)}})))):r.a.createElement("div",{className:"bg-edit"},r.a.createElement("span",null,r.a.createElement(i.b,{to:"/profile"},r.a.createElement("ion-icon",{name:"arrow-back-outline"}))),r.a.createElement("label",{htmlFor:"bg-pic-url"},r.a.createElement("div",{className:"bg bg-color"},r.a.createElement("input",{style:{display:"none"},id:"bg-pic-url",className:"image-selector",type:"file",name:"backgroundPictureUrl",onChange:function(t){return e.handleBackgroundFileUpload(t)}}))))}(s),r.a.createElement("div",{className:"container-profile"},r.a.createElement("div",{className:"user-info"},function(t){return t?r.a.createElement("label",{className:"edit-avatar",htmlFor:"profile-pic-url"},r.a.createElement("ion-icon",{name:"image-outline"}),r.a.createElement("img",{className:"profile-picture2 profile-stroke",src:t,alt:"profileImg"}),r.a.createElement("input",{style:{display:"none"},id:"profile-pic-url",className:"image-selector",type:"file",name:"profilePictureUrl",onChange:function(t){return e.handleProfileFileUpload(t)}})):r.a.createElement("label",{className:"edit-avatar",htmlFor:"profile-pic-url"},r.a.createElement("ion-icon",{name:"image-outline"}),r.a.createElement("div",{className:"profile-picture2 avatar-green profile-stroke"},r.a.createElement("ion-icon",{name:"image-outline"})),r.a.createElement("input",{style:{display:"none"},id:"profile-pic-url",className:"image-selector",type:"file",name:"profilePictureUrl",onChange:function(t){return e.handleProfileFileUpload(t)}}))}(l),r.a.createElement("div",{className:"user-info-container edit-user-info"},r.a.createElement("h4",null,"@",o)),r.a.createElement("button",{className:"a-btn  edit-user-info",type:"submit"},"save")),r.a.createElement("div",{className:"create-section"},r.a.createElement("label",{className:"create-recipe-titles"},"Change your email"),r.a.createElement("input",{className:"input-title-recipe",type:"text",name:"email",placeholder:"Write your new email",onChange:this.handleChange}),r.a.createElement("br",null)))),function(e){return null!==e?r.a.createElement("div",{className:"msg msg-error"},e):""}(a),function(e){return null!==e?r.a.createElement("div",{className:"msg msg-success"},e):""}(n))}}]),a}(n.Component)),Z=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card-profile"},r.a.createElement(i.b,{to:"/recipes/"+this.props.id}," ",r.a.createElement("img",{src:this.props.imageUrl,alt:"img"})),r.a.createElement("div",{className:"info-card-profile"},r.a.createElement("h3",null,this.props.title)))}}]),a}(n.Component)),$=x(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.componentDidMount=Object(E.a)(g.a.mark((function t(){var a,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.id,t.next=3,b.getUserInfo(a);case 3:return n=t.sent,t.next=6,b.getMyRecipes(a);case 6:r=t.sent,e.setState({recipes:r,searchedUser:n});case 8:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null),function(){if(void 0!==e.state.searchedUser){var t=e.state.searchedUser.backgroundPictureUrl;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"bg"},r.a.createElement("img",{src:t,alt:"backgroundImg"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg bg-color"}))}}(),r.a.createElement("div",{className:"container-profile"},r.a.createElement("div",{className:"user-info"},function(){if(void 0!==e.state.searchedUser){var t=e.state.searchedUser.profilePictureUrl;return t?r.a.createElement("img",{className:"profile-picture2 profile-stroke",src:t,alt:"profileImg"}):r.a.createElement("div",{className:"profile-picture2 profile-stroke avatar-green"})}}(),r.a.createElement("div",{className:"user-info-container"},r.a.createElement("h4",null,"@",function(){if(void 0!==e.state.searchedUser)return e.state.searchedUser.username}()))),r.a.createElement("h2",null,"Recipes")),r.a.createElement("div",{className:"recipes-container"},function(){var t=e.state.recipes;if(void 0!==t)return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement(Z,{key:t,imageUrl:e.imageUrl,title:e.title,id:e._id})})))}()))}}]),a}(n.Component)),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(w,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(O,{exact:!0,path:"/",component:D}),r.a.createElement(O,{exact:!0,path:"/signup",component:R}),r.a.createElement(O,{exact:!0,path:"/login",component:F}),r.a.createElement(j,{exact:!0,path:"/recipes",component:T}),r.a.createElement(j,{exact:!0,path:"/recipes/:id",component:z}),r.a.createElement(j,{exact:!0,path:"/profile",component:K}),r.a.createElement(j,{exact:!0,path:"/profile/savedRecipes",component:K}),r.a.createElement(j,{exact:!0,path:"/profile/edit",component:Y}),r.a.createElement(j,{exact:!0,path:"/profile/:id",component:$}),r.a.createElement(j,{exact:!0,path:"/addNewRecipe",component:H}),r.a.createElement(j,{exact:!0,path:"/search/:query",component:V}),r.a.createElement(j,{exact:!0,path:"/editRecipe/:id",component:H}))))}}]),a}(n.Component);function te(){var e=Object(p.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}l.a.render(r.a.createElement(i.a,null,r.a.createElement(te,null),r.a.createElement(ee,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.8597221b.chunk.js.map